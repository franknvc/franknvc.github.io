<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Frank's Redily</title><link rel=stylesheet href=/css/bulma.min.css><link rel=stylesheet href=/css/style.css></head><body class=terminal><section class=window><header class=window-header><div class="logo terminal-prompt"><a href=https://franknvc.github.io/ class=no-style>Frank's Redily</a>
<span style=color:blue>:~#</span>
<a href=https://franknvc.github.io/posts>posts</a><span style=color:#1a95e0>/</span>
<a href=https://franknvc.github.io/posts/java>java</a><span style=color:#1a95e0>/</span>
<a href=https://franknvc.github.io/posts/java/spring-bean>spring-bean</a><span style=color:#1a95e0>/</span></div><div class=window-controls><span class="control-item control-minimize">‒</span>
<span class="control-item control-maximize">□</span>
<span class="control-item control-close">˟</span></div></header><main class=window-content id=content><div class=container><div class=window-cursor><span class=i-cursor-indicator>></span><div class=terminal-nav><nav class=terminal-menu><ul vocab="https://schema.org/" typeof="BreadcrumbList"><li><a href=/about typeof="ListItem">/about</a></li><li><a href=/posts typeof="ListItem">/posts</a></li><li><a href=/projects typeof="ListItem">/projects</a></li><li><a href=/gallery typeof="ListItem">/photos</a></li><li><a href=/resume typeof="ListItem">/resumé</a></li></ul></nav></div><span class=i-cursor-underscore></span></div><div class=scrollable><h1>[Spring] What is a Bean object?]</h1>Apr. 23, 2021<br><br><p>One of the key concepts in the Spring framework is the <code>Bean</code> object. However, it can be difficult to get a hang of it and use it in an effective way. This post will try to explain what a Spring Bean is.</p><h2 id=definition>Definition</h2><p>Here is how <code>Bean</code> is defined by the Spring Framework:</p><blockquote><p><em>In Spring, the objects that form the backbone of your application and that are managed by the Spring IoC container are called beans. A bean is an object that is instantiated, assembled, and otherwise managed by a String IoC container.</em></p></blockquote><p>There are two important pieces of information here. Firstly, a <code>Bean</code> is an <strong>object</strong> and secondly, it is <strong>instantiated, assembled, and managed by a Spring IoC container</strong>.</p><p>As you can see, another term, `IoC, is introduced and I&rsquo;m afraid that I will have to introduce another term to you. But we will go through these terms, and you will have a better understanding.</p><h2 id=dependency-injection>Dependency Injection</h2><p>There are many definitions of <code>Dependency Injection</code> out there, but to me, they are too verbose and focus too much on the bell and whistle. Therefore, I would like to give you this really short definition of <code>Dependency Injection</code> by <a href=https://www.jamesshore.com/v2/blog/2006/dependency-injection-demystified>James Shore</a>:</p><blockquote><p>Dependency Injection means giving an object its instance variables. Really. That&rsquo;s it.</p></blockquote><p>Inside a class, we may have variables that are instances of another class. This creates a dependency. For example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>private</span> Address address<span style=color:#f92672>;</span>

    <span style=color:#75715e>// constructor
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Address</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>private</span> String street<span style=color:#f92672>;</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> number<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Address</span><span style=color:#f92672>(</span>String street<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> number<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>street</span> <span style=color:#f92672>=</span> street<span style=color:#f92672>;</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>number</span> <span style=color:#f92672>=</span> number<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#75715e>// getters &amp; setters
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><p>As you can see, the dependency of a <code>Person</code> object is an <code>Address</code> object. So when a <code>Person</code> object is instantiated, it requires an <code>Address</code> to be instantiated as well. The problem arise when the <code>Address</code> object is created by the <code>Person</code> object in its constructor:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>private</span> Address address<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Person</span><span style=color:#f92672>(</span>String street<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> number<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>address</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Address<span style=color:#f92672>(</span>String<span style=color:#f92672>,</span> number<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>As you can see, we have to pass the arguments for creating an <code>Address</code> object to the constructor of the <code>Person</code> object. This can becomes complex when there are many dependencies.</p><p>Hence, the concept of <em>Dependency Injection</em> comes about. Instead of creating the dependencies by itself, the class <code>Person</code> lets the dependency to be injected. The <code>Address</code> object is created <em>outside</em>, and then the reference is passed to the <code>Person</code> object.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>private</span> Address address<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Person</span><span style=color:#f92672>(</span>Address address<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>address</span> <span style=color:#f92672>=</span> address<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>This helps to isolate classes from one another. And this is not the only way to do <code>Dependency Injection</code>. There are variations as well.</p><h2 id=inversion-of-control>Inversion of Control</h2><p>Inversion of Control takes it up another notch. It concerns about the instantiation and management of dependency objects, in this case, how the <code>Address</code> object is created.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>Address address <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Address<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Jump Street&#34;</span><span style=color:#f92672>,</span> 21<span style=color:#f92672>);</span>
Person me <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Person<span style=color:#f92672>(</span>address<span style=color:#f92672>);</span>
</code></pre></div><p>As mentioned above, the example only has one dependency. However, in reality, a class usually has many dependencies. Imagine creating and managing all those dependency objects. And sometimes you want to share a single instance of a class, and sometimes multiple separate objects for each use case.</p><p>The <code>IoC</code> container will have all the configuration metadata of the classes, and will instantiated the object and pass it to the one that needed the object on demand.</p><p>So we use the <code>@Bean</code> annotation to indicate the configuration metadata of a class, and all the objects constructed by <code>IoC Container</code> are called <code>Spring Bean</code>.</p><h2 id=example>Example</h2></div></div></main><footer class=bottom><small>Copyright 2021 Nguyen Viet Cuong</small></footer></section></body></html>