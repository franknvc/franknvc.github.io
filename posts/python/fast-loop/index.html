<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Frank's Redily</title><link rel=stylesheet href=/css/bulma.min.css><link rel=stylesheet href=/css/style.css></head><body class=terminal><section class=window><header class=window-header><div class="logo terminal-prompt"><a href=https://franknvc.github.io/ class=no-style>Frank's Redily</a>
<span style=color:blue>:~#</span>
<a href=https://franknvc.github.io/posts>posts</a><span style=color:#1a95e0>/</span>
<a href=https://franknvc.github.io/posts/python>python</a><span style=color:#1a95e0>/</span>
<a href=https://franknvc.github.io/posts/python/fast-loop>fast-loop</a><span style=color:#1a95e0>/</span></div><div class=window-controls><span class="control-item control-minimize">‒</span>
<span class="control-item control-maximize">□</span>
<span class="control-item control-close">˟</span></div></header><main class=window-content id=content><div class=container><div class=window-cursor><span class=i-cursor-indicator>></span><div class=terminal-nav><nav class=terminal-menu><ul vocab="https://schema.org/" typeof="BreadcrumbList"><li><a href=/about typeof="ListItem">/about</a></li><li><a href=/posts typeof="ListItem">/posts</a></li><li><a href=/projects typeof="ListItem">/projects</a></li><li><a href=/gallery typeof="ListItem">/photos</a></li><li><a href=/resume typeof="ListItem">/resumé</a></li></ul></nav></div><span class=i-cursor-underscore></span></div><div class=scrollable><h1>[Python] Fast Loop</h1>Apr. 9, 2021<br><br><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/Qgevy75co8c style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="The Fastest Way to Loop in Python - An Unfortunate Truth"></iframe></div><p>In this video, James Murphy compares the performance of different ways to do loop in Python. He pointed out the fact that Python is a pretty slow programming language on its own and giving a comprehensive conclusion to what might be the fastest way to loop.</p><p>To summarize, the loop is supposed to sum the numbers from 0 to n-1 (n=100_000_000). Given below is the performance of each way measured by profiling using <code>timeit</code>.</p><table><thead><tr><th>loop</th><th>time</th></tr></thead><tbody><tr><td>while</td><td>14.7800181</td></tr><tr><td>for</td><td>10.090439</td></tr><tr><td>sum range</td><td>6.3937911000000001</td></tr><tr><td>numpy sum</td><td>0.73299640000000047</td></tr><tr><td>math sum</td><td>2.80000000042993634e-06</td></tr></tbody></table><p>We could see <code>while</code> loop has the worst performance, being pure Python, and the performance increases as the function is implemented in faster language like <code>C</code> and optimized. James concludes that if possible, we should use built-in Python function for the optimization, or using computing module built especially for speed such as <code>numpy</code>. And ultimately, the best way is to avoid loop at all, due to not only the optimization of the language itself, but also due to the complexity of a loop.</p><p>There are some other implicit lessons that I realized from watching this video. First of all, in the process of optimization, having good profiling tools are very important, and even something as simple as <code>timeit</code> can become very useful at time. Secondly, there&rsquo;s this question of where do you look first when you are going to optimize your code. Loops take up a large chunks of your code, and thus can be a starting point of your optimization process. This will lead you to think about how to optimize your loop and hopefully will lead away from using a loop, or make you rethink about the data structure that you are using. Understanding the complexity of data structure operations will help you choose the appropriate data structure that in turns reduce the complexity of your loop.</p></div></div></main><footer class=bottom><small>Copyright 2021 Nguyen Viet Cuong</small></footer></section></body></html>