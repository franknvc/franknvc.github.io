<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Frank's Redily</title><link rel=stylesheet href=/css/style.css></head><body class=terminal><section class=window><header class=window-header><div class="logo terminal-prompt"><a href=https://franknvc.github.io/ class=no-style>Frank's Redily</a>
<span style=color:blue>:~#</span>
<a href=https://franknvc.github.io/posts>posts</a><span style=color:#1a95e0>/</span>
<a href=https://franknvc.github.io/posts/vue>vue</a><span style=color:#1a95e0>/</span>
<a href=https://franknvc.github.io/posts/vue/getting-started-with-vue3>getting-started-with-vue3</a><span style=color:#1a95e0>/</span></div><div class=window-controls><span class="control-item control-minimize">‒</span>
<span class="control-item control-maximize">□</span>
<span class="control-item control-close">˟</span></div></header><main class=window-content id=content><div class=container><div class=window-cursor><span class=i-cursor-indicator>></span><div class=terminal-nav><nav class=terminal-menu><ul vocab="https://schema.org/" typeof="BreadcrumbList"><li><a href=/about typeof="ListItem">/about</a></li><li><a href=/posts typeof="ListItem">/posts</a></li><li><a href=/projects typeof="ListItem">/projects</a></li><li><a href=/gallery typeof="ListItem">/photos</a></li><li><a href=/resume typeof="ListItem">/resumé</a></li></ul></nav></div><span class=i-cursor-underscore></span></div><div class=scrollable><h1>Getting Started With Vue 3</h1>Apr. 7, 2021<br><br><p>In this post, I am going to show you how to set up a fresh Vue 3 project running Vite. From my preferred stack, I am going to config ESLint, Prettier, Vue Router, Vuex store and Tailwind CSS.</p><p>The <code>vue/cli</code> using webpack and not Vite by default, we need to config the app to use Vite.</p><h2 id=initializing-new-vite-app>Initializing new Vite app</h2><p>Follow the instruction on the official website or from the command line.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm init @vitejs/app vite-app
<span style=color:#66d9ef>select</span> vue

cd vite-app
npm install
npm run dev
</code></pre></div><p>You can execute <code>npm run dev</code> to spin up the dev server and you can see that it loads up super fast and exponentially faster during hot reload.</p><h2 id=install-tailwind-css>Install Tailwind CSS</h2><p>Install Tailwind and its dependencies.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm install -D tailwindcss@latest postcss@latest autoprefixer@latest
</code></pre></div><p>Initialize Tailwind CSS to create the config file: <code>postcss.config.js</code> and <code>tailwind.config.js</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npx tailwindcss init -p
</code></pre></div><p>Create <code>index.css</code> inside src to bring in all the Tailwind CSS utilities. Then import the creates css file in <code>main.js</code>.</p><blockquote><p>Optional: if you want to reduce the footprint of Tailwind CSS, you can go into the <code>tailwind.config.js</code> file and put into <code>purge</code> all the classes that you are not going to use.</p></blockquote><h2 id=install-eslint-and-prettier-with-config>Install ESLint and Prettier with config</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm install --save-dev eslint prettier eslint-plugin-vue eslint-config-prettier
</code></pre></div><p>Next, create the dotfile <code>.eslintrc.js</code> and put in the configuration</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span> {
  <span style=color:#66d9ef>extends</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;plugin:vue/vue3-essential&#34;</span>, <span style=color:#e6db74>&#34;prettier&#34;</span>],
  <span style=color:#a6e22e>rules</span><span style=color:#f92672>:</span> {
    <span style=color:#75715e>// override/add rules settings here, such as:
</span><span style=color:#75715e></span>    <span style=color:#e6db74>&#34;vue/no-unused-vars&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;error&#34;</span>,
  },
};
</code></pre></div><p>We do the same thing with prettier in <code>.prettierrc.js</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span> {
	<span style=color:#a6e22e>semi</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,<span style=color:#a6e22e>tabWidth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>,
	<span style=color:#a6e22e>useTabs</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>,
	<span style=color:#a6e22e>printWidth</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>80</span>,
	<span style=color:#a6e22e>endOfLine</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;auto&#39;</span>,
	<span style=color:#a6e22e>singleQuote</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
	<span style=color:#a6e22e>trailingComma</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;es5&#39;</span>,
	<span style=color:#a6e22e>bracketSpacing</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
	<span style=color:#a6e22e>arrowParens</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;always&#39;</span>,
}
</code></pre></div><h2 id=install-vue-router>Install vue-router</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm install vue-router@4
</code></pre></div><p>Once it&rsquo;s installed, we need to create a directory called <code>router</code> under <code>src</code>. Inside <code>router</code>, we create <code>index.js</code> and set up the router</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>createRouter</span>, <span style=color:#a6e22e>createWebHistory</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vue-router&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>routes</span> <span style=color:#f92672>=</span> [];
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createRouter</span>({
  <span style=color:#a6e22e>history</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>createWebHistory</span>(),
  <span style=color:#a6e22e>routes</span>,
});

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>router</span>;
</code></pre></div><p>Go to <code>main.js</code> and import the router file and use it before the app is mounted.</p><p><img src=vue-router.jpg alt=Vue-router></p><p>When we go to the browser, we can see the warning in the console because we haven&rsquo;t define any routes in our router file. We will now create the route <code>Home</code> that lead to the component <code>Home</code>. Import <code>Home</code> in the router file.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>routes</span> <span style=color:#f92672>=</span> [
  {
    <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;/&#34;</span>,
    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Home&#34;</span>,
    <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Home</span>,
  },
];
</code></pre></div><p>Create the <code>Home.vue</code> component with some scaffolding. Delete all the boilerplate in <code>App.vue</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>template</span>&gt;
  &lt;<span style=color:#f92672>router-view</span> /&gt;
&lt;/<span style=color:#f92672>template</span>&gt;
</code></pre></div><p>Now when we go back to the browser, we can see that the route <code>/</code> is sending us to the <code>Home</code> component as defined in the <code>router</code> file.</p><h2 id=install-vuex>Install vuex</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm install vuex@next --save
</code></pre></div><p>Once we installed the package, create a folder called <code>store</code> under <code>src</code> and create an <code>index.js</code> file.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>createStore</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vuex&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>user</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../store/modules/user&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>store</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createStore</span>({
  <span style=color:#a6e22e>modules</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>user</span>,
  },
});

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>store</span>;
</code></pre></div><p>Create a folder called <code>modules</code> under <code>store</code> and a <code>user.js</code> file, and put in some code and data for vuex model.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> {
  <span style=color:#a6e22e>state</span><span style=color:#f92672>:</span> () =&gt; ({
    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Frank&#34;</span>,
  }),
  <span style=color:#a6e22e>getters</span><span style=color:#f92672>:</span> {},
  <span style=color:#a6e22e>mutations</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>SET_NAME</span>(<span style=color:#a6e22e>state</span>, <span style=color:#a6e22e>payload</span>) {
      <span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>payload</span>;
    },
  },
  <span style=color:#a6e22e>actions</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>saveName</span>({ <span style=color:#a6e22e>commit</span> }, <span style=color:#a6e22e>data</span>) {
      <span style=color:#a6e22e>commit</span>(<span style=color:#e6db74>&#34;SET_NAME&#34;</span>, <span style=color:#a6e22e>data</span>);
    },
  },
};
</code></pre></div><p>Import <code>store</code> in <code>main.js</code> just as we did with <code>router</code>. Update <code>Home</code> component with the following for testing if <code>store</code> is working</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>template</span>&gt;
  &lt;<span style=color:#f92672>div</span>&gt;
    &lt;<span style=color:#f92672>h1</span>&gt;Home&lt;/<span style=color:#f92672>h1</span>&gt;
    &lt;<span style=color:#f92672>p</span>&gt;Name in store is: {{ name }}&lt;/<span style=color:#f92672>p</span>&gt;
  &lt;/<span style=color:#f92672>div</span>&gt;
&lt;/<span style=color:#f92672>template</span>&gt;

&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
  <span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>computed</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vue&#34;</span>;
  <span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useStore</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vuex&#34;</span>;

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>store</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useStore</span>();

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>computed</span>(() =&gt; {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>store</span>.<span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>name</span>;
  });
&lt;/<span style=color:#f92672>script</span>&gt;
</code></pre></div><h2 id=routing-on-button-click>Routing on button click</h2><p>Add a new input field and a button to <code>Home</code> component.</p><p>Import <code>ref</code> from <code>vue</code> and use it as the <code>v-model</code> for the input field. Now whatever the user type into the input field is save under <code>newName</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>template</span>&gt;
  &lt;<span style=color:#f92672>div</span>&gt;
    &lt;<span style=color:#f92672>h1</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-6 text-3xl font-extrabold&#34;</span>&gt;Home&lt;/<span style=color:#f92672>h1</span>&gt;
    &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-6&#34;</span>&gt;Name in store is: {{ name }}&lt;/<span style=color:#f92672>p</span>&gt;

    &lt;<span style=color:#f92672>input</span>
      <span style=color:#a6e22e>v-model</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;newName&#34;</span>
      <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>
      <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;p-2 mr-4 border border-gray-600 rounded&#34;</span>
    /&gt;
    &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;p-2 text-white bg-indigo-600 rounded&#34;</span>&gt;Submit&lt;/<span style=color:#f92672>button</span>&gt;
  &lt;/<span style=color:#f92672>div</span>&gt;
&lt;/<span style=color:#f92672>template</span>&gt;

&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
  <span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>computed</span>, <span style=color:#a6e22e>ref</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vue&#34;</span>;
  <span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useStore</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vuex&#34;</span>;

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>store</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useStore</span>();

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>computed</span>(() =&gt; {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>store</span>.<span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>name</span>;
  });

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>newName</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ref</span>(<span style=color:#e6db74>&#34;&#34;</span>);
&lt;/<span style=color:#f92672>script</span>&gt;
</code></pre></div><p>Next, we create the event handler for the <code>submit</code> button and add the event listener to the button.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>saveName</span>() {
  <span style=color:#a6e22e>store</span>.<span style=color:#a6e22e>dispatch</span>(<span style=color:#e6db74>&#34;saveName&#34;</span>, <span style=color:#a6e22e>newName</span>.<span style=color:#a6e22e>value</span>);
}
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>button</span> <span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>click</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;saveName&#34;</span> <span style=color:#960050;background-color:#1e0010>...</span>&gt;Submit&lt;/<span style=color:#f92672>button</span>&gt;
</code></pre></div><p>The last thing is to create a new <code>About</code> page that will be directed to when the <code>Submit</code> button is clicked with the name in the input field.</p><p>Create <code>About.vue</code> and setup to use the <code>store</code> similar to <code>Home</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>template</span>&gt;
  &lt;<span style=color:#f92672>h1</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;font-bold text-2xl&#34;</span>&gt;About {{ name }}&lt;/<span style=color:#f92672>h1</span>&gt;
&lt;/<span style=color:#f92672>template</span>&gt;

&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
  <span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>computed</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vue&#34;</span>;
  <span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useStore</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vuex&#34;</span>;

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>store</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useStore</span>();

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>computed</span>(() =&gt; {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>store</span>.<span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>name</span>;
  });
&lt;/<span style=color:#f92672>script</span>&gt;
</code></pre></div><p>Register a path for the <code>About</code> component in the <code>router</code> file.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>About</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;/src/components/About.vue&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>routes</span> <span style=color:#f92672>=</span> [
  {
    <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;/&#34;</span>,
    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Home&#34;</span>,
    <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Home</span>,
  },
  {
    <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;/about&#34;</span>,
    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;About&#34;</span>,
    <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>About</span>,
  },
];
</code></pre></div><p>Update <code>Home</code> to use the router and redirect to about page.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useRouter</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vue-router&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRouter</span>();

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>saveName</span>() {
  <span style=color:#a6e22e>store</span>.<span style=color:#a6e22e>dispatch</span>(<span style=color:#e6db74>&#34;saveName&#34;</span>, <span style=color:#a6e22e>newName</span>.<span style=color:#a6e22e>value</span>);
  <span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>&#34;/about&#34;</span>);
}
</code></pre></div><h2 id=recap>Recap</h2><ul><li>Setup a new Vue app running on Vite</li><li>Install and config Tailwind CSS for styling</li><li>Added and configured ESLint + Prettier for linting and code formatting</li><li>Added and configured vue-router and vuex and demonstrate how to use them</li></ul></div></div></main><footer class=bottom><small>Copyright 2021 Nguyen Viet Cuong</small></footer></section></body></html>